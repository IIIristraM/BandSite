@using BandSite.Models.ViewModels
@model BandSite.Models.ViewModels.CRUDAlbumModel
<div class="container">
    <div class="row">
        <div class="col-lg-7">
            <div class="panel panel-default">
                <div class="panel-heading">Main properties</div>
                <div class="panel-body">
                     @using (Html.BeginForm("Edit", "Album", FormMethod.Post, new {enctype = "multipart/form-data"}))
                     {
                         <fieldset>
                             @Html.AntiForgeryToken()
                             @Html.HiddenFor(model => model.Id)
                             <div class="form-group">
                                 @Html.LabelFor(model => model.Title)
                                 <div>
                                     @Html.TextBoxFor(model => model.Title, new {@class = "form-control"})
                                 </div>
                             </div>
                             <div class="form-group">
                                 @Html.LabelFor(model => model.Published)
                                 <div>
                                     @Html.TextBoxFor(model => model.Published, new {type="date", @class = "form-control", @Value = (Model.Published.HasValue) ? Model.Published.Value.ToString("yyyy-MM-dd") : ""})
                                 </div>
                             </div>
                             <div class="form-group">
                                 @Html.LabelFor(model => model.Description)
                                 <div>
                                     @Html.TextAreaFor(model => model.Description, new {@class = "form-control"})
                                 </div>
                             </div>
                             <input type="submit" value="Ok" class="btn btn-primary"/>
                         </fieldset>
                     }
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-lg-offset-1">
            <div class="panel panel-default">
                <div class="panel-heading">Songs in album</div>
                <div class="panel-body">
                    @Html.Partial("ShowSong", new ShowSongsModel {Songs = ViewBag.Songs, AlbumId = Model.Id, Editable = true})
                    <br>
                    @Html.Partial("AddSong", new SongAlbumRelationModel {AlbumId = Model.Id})
                </div>
            </div>
        </div>
    </div>
</div>
