@using BandSite.Models.ViewModels
@model BandSite.Models.ViewModels.CRUDSongModel
<div class="container">
    <div class="row">
        <div class="col-lg-7">
            <div class="panel panel-default">
                <div class="panel-heading">Main properties</div>
                <div class="panel-body">
                     @using (Html.BeginForm("Edit", "Song", FormMethod.Post, new {enctype = "multipart/form-data"}))
                     {
                         <fieldset>
                             @Html.AntiForgeryToken()
                             @Html.HiddenFor(model => model.Id)
                             <div class="form-group">
                                 @Html.LabelFor(model => model.Title)
                                 <div>
                                     @Html.TextBoxFor(model => model.Title, new {@class = "form-control"})
                                 </div>
                             </div>
                             <div class="form-group">
                                 @Html.LabelFor(model => model.Text)
                                 <div>
                                     @Html.TextAreaFor(model => model.Text, new {@class = "form-control"})
                                 </div>
                             </div>
                             <div class="form-group">
                                 @Html.LabelFor(model => model.UploadFile)
                                 <div>
                                     @Html.TextBoxFor(model => model.UploadFile, new {type = "file", @class = "form-control"})
                                 </div>
                             </div>
                             <input type="submit" value="Ok" class="btn btn-primary"/>
                         </fieldset>
                     }
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-lg-offset-1">
            <div class="panel panel-default">
                <div class="panel-heading">Published in albums</div>
                <div class="panel-body">
                     @Html.Partial("ShowAlbum", new ShowAlbumsModel {Albums = ViewBag.Albums, SongId = Model.Id, Editable = true})
                    <br>
                    @Html.Partial("AddAlbum", new SongAlbumRelationModel {SongId = Model.Id})
                </div>
            </div>
        </div>
    </div>
</div>
